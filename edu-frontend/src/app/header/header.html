<nav class="navbar navbar-expand-lg sticky-top border-bottom" style="z-index: 1100;">
    <div class="container-fluid">
        <div class="brand d-flex align-items-center">
            <img src="../../../assets/edutech.png" alt="App Logo" class="brand-icon" [routerLink]="'/home'" />
        </div>
        <span class="tou-spacer"></span>
        <div class="d-flex align-items-end me-2">
            <!-- Google Translate Widget -->
            <!-- <div id="google_translate_element"></div> -->
        </div>
        <div class="position-relative ms-auto">
            <button class="btn p-0 border-0 bg-transparent me-2" (click)="toggleNotif()" aria-label="Notifications">
                <i class="bi bi-bell fs-5 text-dark"></i>
                <!-- <span *ngIf="notifications.length > 0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    {{ notifications.length }}
                </span> -->
            </button>
            <div *ngIf="showNotif" class="position-absolute end-0 mt-2 bg-white border rounded shadow-sm"
                style="width: 320px; max-height: 250px; overflow-y: auto; z-index: 1051;">

                <!-- Sticky Header -->
                <div class="p-3 border-bottom fw-semibold bg-white sticky-top" style="top: 0; z-index: 1;">
                    Notifications
                </div>

                <!-- Notification Items -->
                <!-- <div *ngFor="let notif of notifications.slice(0, 3)" class="px-3 py-2 border-bottom">
                    <div class="fw-medium">{{ notif.message }}</div>
                    <small class="text-muted">{{ notif.timestamp }}</small>
                </div> -->

                <!-- View All Link -->
                <!-- <a class="dropdown-item p-3 border-bottom text-center text-primary" routerLink="/notifications"
                    *ngIf="notifications.length > 3" (click)="closeNotif()">
                    View All
                </a> -->
            </div>
        </div>

        <!-- Profile -->
        <div class="position-relative ms-4" (click)="toggleProfile()">
            <div class="d-flex align-items-center cursor-pointer">
                <!-- <img src="https://randomuser.me/api/portraits/men/32.jpg" class="rounded-circle me-2" width="32"
                    height="32" /> -->
                <img [src]="image
        ? 'http://localhost:9000/api/v1/uam/files/profile-image?filename=' + image
        : 'https://i.pravatar.cc/40?u=' + name" alt="Profile Image" class="rounded-circle" width="40" height="40" />
                <div class="d-none d-md-block text-start">
                    <div class="fw-semibold">{{name}}</div>
                    <div class="small text-muted">{{department}}</div>
                </div>
            </div>
            <!-- Profile Dropdown -->
            <div *ngIf="showProfile" class="position-absolute end-0 mt-2 bg-white border rounded shadow-sm"
                style="min-width: 220px; z-index: 1051;">
                <a class="dropdown-item d-flex align-items-center p-3 border-bottom" routerLink="/profile">
                    <i class="bi bi-person me-2"></i> Profile
                </a>
                <a class="dropdown-item d-flex align-items-center p-3 border-bottom" routerLink="/settings">
                    <i class="bi bi-gear me-2"></i> Settings
                </a>
                <a class="dropdown-item d-flex align-items-center p-3 text-danger" (click)="logout()">
                    <i class="bi bi-box-arrow-right me-2"></i> Sign Out
                </a>
            </div>
        </div>
    </div>
</nav>