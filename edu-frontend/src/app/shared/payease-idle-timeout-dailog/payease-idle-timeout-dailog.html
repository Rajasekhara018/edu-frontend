<div class="p-4">
    <img loading="lazy" src="../../../assets/payease-logo.png" height="20" alt="PayEase Logo">
</div>
<div class="px-5 pb-5" *ngIf="!isSession">
    <!-- <div class="mb-3" *ngIf="reqFS">
        <app-tou-alerts alertType="ERROR" heading="Error" message="{{errMsg}}"></app-tou-alerts>
    </div> -->
    <div class="d-flex flex-row ">
        <div classs="me-auto">
            <p class="f-24-b">Session expired </p>
        </div>
        <!-- <div class="ms-auto"><img src="../../../assets/images/session-expire.svg"
                style="width:64px; height:64px; opacity: 0.7;">
        </div> -->
    </div>
    <div>

    </div>
    <div class="p-w-100 mb-3">
        <p>If you want to continue session as <span style="font-weight: 600;">{{username}} </span> please
            re-enter your password.</p>
    </div>
    <form #loginForm="ngForm">
        <mat-label class="form-label">Password</mat-label>
        <mat-form-field appearance="outline" class="w-100 mb-4">
            <input matInput name="password" #password="ngModel" [(ngModel)]="loginObj.password"
                [type]="hidePwd ? 'password' : 'text'" required (keypress)="onKeyPress($event)" autocomplate="off">
            <!-- (keyup.enter)="login()"  -->
            <mat-icon matSuffix (click)="hidePwd = !hidePwd" style="cursor: pointer;" class="material-symbols-outlined"
                color="accent">
                {{hidePwd ? 'visibility_off' : 'visibility'}}
            </mat-icon>
            <mat-error *ngIf="password.errors?.['required']">Password is required</mat-error>
        </mat-form-field><br>
        <div>
            <button mat-raised-button color="accent" name="loginBtn" [disabled]="loginForm.invalid " class="w-100"
                (click)="PreLogin()"><span style="display: inline-flex;">{{inProgressBar ?
                    'Please wait' : 'Login'
                    }}&nbsp;&nbsp;
                    <mat-spinner diameter="24" color="accent" *ngIf="inProgressBar"></mat-spinner></span>
            </button>
        </div>
    </form>
</div>
<div class="px-5 pb-5" *ngIf="isSession ">
    <div class="d-flex flex-row ">
        <div class="me-auto">
            <p class="f-24-b">Still with us?</p>
        </div>
        <!-- <div class="ms-auto"><img src="../../../assets/images/session-idle.svg"
                style="width:56px; height:56px; opacity: 0.7;">
        </div> -->
    </div>
    <div class="p-w-100 my-3">
        <p class="mb-4">Privacy is essenstial, you've gone a while.
            We will log you out in <span class="f-16-b">{{formattedSessionTime}}
            </span> unless you confirm you
            are still with
            us.
        </p>
    </div>
    <div class="d-flex justify-content-center align-items-center">
        <div class="flex-column">
            <div class="mb-3 "><button mat-flat-button color="accent" (click)="continueSession()" class="w-100">Continue
                    Session </button>
            </div>
            <div><button mat-stroked-button color="accent" (click)="logout()" class="w-100">Log out now</button>
            </div>
        </div>
    </div>
</div>